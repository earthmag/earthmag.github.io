<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EarthMag</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <link rel="icon" type="image/png" href="favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    * {   cursor: none !important;
margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; color: #212121; background-color: #FAFAFA; cursor: none; /* hide default cursor */ }

    a, button {
      cursor: none !important; /* remove default pointer */
    }
.footicon:hover {
  transform: scale(1.2);
  color: #1d1d1d;
}

    .custom-cursor {
      width: 18px;
      height: 18px;
      border: 2px solid rgba(46,125,50,0.8);
      border-radius: 50%;
      position: fixed;
      pointer-events: none;
      transform: translate(-50%, -50%);
      transition: transform 0.15s ease-out, background-color 0.2s ease, border-color 0.2s ease, opacity 0.2s ease;
      z-index: 3000;
    }

    .custom-cursor.click {
      transform: translate(-50%, -50%) scale(0.8);
      background-color: rgba(0,150,136,0.2);
    }

    .custom-cursor.hidden {
      opacity: 0;
    }

    .custom-cursor.nav-hover {
      transform: translate(-50%, -50%) scale(1.6);
      background-color: rgba(0,150,136,0.1);
      border-color: rgba(255, 255, 255,0.1);
    }

    nav {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: auto;
      max-width: 90%;
      padding: 14px 28px;
      border-radius: 18px;
      background: rgb(255, 255, 255) !important;
      backdrop-filter: blur(25px) saturate(180%);
      -webkit-backdrop-filter: blur(25px) saturate(180%);
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      transition: all 0.3s ease;
    }
    nav .logo {
      font-family: 'Playfair Display', serif;
      font-weight: 800;
      letter-spacing: -0.5px;
      font-size: 26px;
      color: #2E7D32;
      transition: color 0.3s ease;
      text-decoration: none;
    }
    nav .logo:hover {
        color:white;
    }
    nav ul { display: flex; list-style: none; }
    nav ul li { margin-left: 20px; }
    nav ul li a {
      color: white; text-decoration: none; font-weight: 500; transition: all 0.3s ease;
      padding: 8px 14px; border-radius: 12px;
      font-family: 'Inter', sans-serif;
    }
    nav ul li a:hover {
      color: black;
      background: rgba(255, 255, 255, 0.65);
      box-shadow: 0 6px 20px rgba(0,0,0,0.2), inset 0 0 15px rgba(255,255,255,0.4);
      transform: translateY(-2px);
    }

    header {
      height: 100vh; width: 100%;
      position: relative; overflow: hidden;
      display: flex; align-items: center; justify-content: center;
      text-align: center; padding: 20px;
    }
    header video {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover; z-index: -1;
    }
    header .overlay {
      position: relative; z-index: 1;
      max-width: 800px;
    }
    header h1 { font-family: 'Playfair Display', serif; font-size: 72px; margin-bottom: 20px; color: white;; }
    header p { font-family: 'Inter', sans-serif; font-size: 22px; margin-bottom: 30px; color:white; }
    header a {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #2E7D32, #009688);
      color: #fff;
      padding: 12px 30px; border-radius: 30px;
      text-decoration: none; font-weight: bold;
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.6);
      transition: background 0.3s, box-shadow 0.3s, transform 0.2s ease, box-shadow 0.2s ease;
      display: inline-block;
    }
    header a:hover {
      background: linear-gradient(135deg, #256029, #00796B);
      box-shadow: 0 12px 32px rgba(37,96,41,0.25);
      transform: translateY(-2px);
    }

    section {
      padding: 100px 40px;
      background-color: #fff;
      transition: background-color 0.3s;
    }
    section:nth-of-type(even) {
      background-color: #f9f9f9;
    }
    /* Earth Fact Category Backgrounds */
    #earth-facts.energy { background: linear-gradient(135deg, #E3F2FD, #BBDEFB); }
    #earth-facts.climate { background: linear-gradient(135deg, #E8F5E9, #C8E6C9); }
    #earth-facts.oceans { background: linear-gradient(135deg, #E0F7FA, #B2EBF2); }
    #earth-facts.pollution { background: linear-gradient(135deg, #FFF3E0, #FFE0B2); }
    #earth-facts.nature { background: linear-gradient(135deg, #F1F8E9, #DCEDC8); }
    #earth-facts.history { background: linear-gradient(135deg, #F3E5F5, #E1BEE7); }
    #earth-facts.funny { background: linear-gradient(135deg, #FFEBEE, #FFCDD2); }
    section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 40px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 20px;
      color: #2E7D32;
      border-bottom: 2px solid #2E7D32;
      padding-bottom: 8px;
      max-width: max-content;
    }
    section p {
      font-family: 'Inter', sans-serif;
      max-width: 800px;
      margin-bottom: 20px;
      line-height: 1.8;
      font-size: 18px;
      color: #444;
    }

    form input[type="text"],
    form input[type="email"],
    form textarea {
      padding: 10px;
      margin: 5px;
      width: 250px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    form textarea {
      width: 520px;
      height: 100px;
      resize: vertical;
    }
    form input[type="text"]:focus,
    form input[type="email"]:focus,
    form textarea:focus {
      border-color: #2E7D32;
      box-shadow: 0 0 8px rgba(46, 125, 50, 0.6);
      outline: none;
    }
    form button {
      font-family: 'Inter', sans-serif;
      padding: 10px 20px;
      background: linear-gradient(135deg, #2E7D32, #009688);
      color: #fff;
      font-weight: bold;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: background 0.3s;
    }
    form button:hover {
      background: linear-gradient(135deg, #256029, #00792c);
    }

    .footer {
      background: #111;
      text-align: center;
      padding: 30px;
      color: #ccc;
      font-size: 14px;
    }
    .footer a {
      color: #ccc;
      text-decoration: none;
      transition: color 0.3s;
    }
    .footer a:hover {
      color: #256a00;
    }

    @media (max-width: 900px) {
      nav { flex-wrap: wrap; }
      nav ul {
        flex-direction: column;
        background: rgba(255,255,255,0.25);
        backdrop-filter: saturate(180%) blur(20px);
        -webkit-backdrop-filter: saturate(180%) blur(20px);
        width: 100%;
        padding: 20px;
        border-radius: 12px;
      }
      nav ul li { margin: 10px 0; }
    }

    .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); }
    .modal-content { background: #fff; margin: 10% auto; padding: 30px; border-radius: 12px; max-width: 600px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); }
    .modal-content h2 { font-family: 'Playfair Display', serif; color: #2E7D32; margin-bottom: 20px; }
    .modal-content input, .modal-content textarea { width: 100%; margin-bottom: 12px; padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-family: 'Inter', sans-serif; }
    .modal-content button { background: linear-gradient(135deg, #2E7D32, #009688); color: #fff; border: none; border-radius: 30px; padding: 10px 20px; cursor: pointer; }
    .modal-content button:hover { background: linear-gradient(135deg, #256029, #00796B); }
    .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
    .close:hover { color: #000; }
nav {
  background: url('https://media.istockphoto.com/id/1618820764/photo/blurred-abstract-gray-gradient-glassmorphism-color-transition-frosted-glass-effect-background.jpg?s=612x612&w=0&k=20&c=pDiG2EWkFq_7-qkSLLAHGAycoeH0D-8GwBrJTELro4s');
  backdrop-filter: saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  transition: background 0.4s ease, box-shadow 0.4s ease;
}

nav ul li a {
  color: #212121;
}
nav ul li a:hover {
    background: rgba(94, 94, 94, 0.15);
    /* color:white; */
    box-shadow: 0 6px 20px rgba(0,0,0,0.2), inset 0 0 15px rgba(255,255,255,0.4);
    transform: translateY(-2px);
    transition:0.5s
}
nav .logo:hover {
color:grey;
transition: 0.5s;
}

    /* Repository Section Styles */
    .repo-toolbar { display:flex; flex-wrap:wrap; align-items:center; gap:16px; margin-bottom:35px; }
    .repo-toolbar input { padding:12px 16px; border-radius:14px; border:1px solid rgba(0,0,0,0.1); font-size:16px; box-shadow:0 2px 8px rgba(0,0,0,0.05); transition:all 0.3s ease; }
    .repo-toolbar select { 
      padding:12px 16px; 
      border-radius:14px; 
      border:1px solid rgba(0,0,0,0.15); 
      font-size:16px; 
      background:rgba(255,255,255,0.7); 
      backdrop-filter:blur(12px) saturate(160%); 
      -webkit-backdrop-filter:blur(12px) saturate(160%); 
      box-shadow:0 2px 8px rgba(0,0,0,0.08); 
      transition:all 0.3s ease; 
      appearance:none; 
      background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%232E7D32' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E"); 
      background-repeat:no-repeat; 
      background-position:right 12px center; 
      background-size:16px; 
      padding-right:40px;
    }
    .repo-toolbar input:focus, .repo-toolbar select:focus { border-color:#2E7D32; box-shadow:0 4px 14px rgba(46,125,50,0.25); outline:none; }
    .repo-toolbar button { background:#2E7D32; color:#fff; border:none; border-radius:50px; padding:12px 22px; font-weight:600; cursor:pointer; transition:transform 0.2s, box-shadow 0.2s; }
    .repo-toolbar button:hover { transform:translateY(-2px); box-shadow:0 6px 20px rgba(0,0,0,0.25); }

    .paper-card { background:rgba(255,255,255,0.7); backdrop-filter:blur(20px) saturate(160%); -webkit-backdrop-filter:blur(20px) saturate(160%); border-radius:20px; box-shadow:0 8px 30px rgba(0,0,0,0.12); padding:26px; flex:1 1 320px; display:flex; flex-direction:column; justify-content:space-between; transition:transform 0.25s, box-shadow 0.25s; }
    .paper-card:hover { transform:translateY(-6px); box-shadow:0 12px 38px rgba(0,0,0,0.2); }

    .paper-card h3 { font-family:'Playfair Display',serif; font-size:22px; font-weight:700; margin-bottom:8px; color:#2E7D32; }
    .paper-card .authors { font-size:14px; color:#444; margin-bottom:10px; }
    .paper-card .abstract { font-size:15px; color:#333; margin-bottom:14px; line-height:1.55; }
    .paper-card .meta { font-size:13px; color:#666; margin-bottom:10px; }
    .paper-card .tag { display:inline-block; background:linear-gradient(135deg,#E8F5E9,#E0F2F1); color:#2E7D32; padding:3px 9px; border-radius:10px; font-size:12px; margin-right:6px; margin-top:4px; }

    .paper-card .actions { margin-top:15px; display:flex; gap:12px; }
    .paper-card .actions button, .paper-card .actions a { flex:1; text-align:center; padding:10px 16px; border-radius:30px; font-family:'Inter',sans-serif; font-weight:500; font-size:14px; cursor:pointer; text-decoration:none; transition:all 0.3s ease; }
    .paper-card .actions button { background:#2E7D32; color:#fff; border:none; }
    .paper-card .actions button:hover { background:linear-gradient(135deg,#256029,#00796B); transform:translateY(-2px); }
    .paper-card .actions a { background:#fff; color:#2E7D32; border:1px solid #2E7D32; }
    .paper-card .actions a:hover { background:#2E7D32; color:#fff; transform:translateY(-2px); }


    .activePage {
        color: black;
    background: rgba(94, 94, 94, 0.15);
    box-shadow: 0 6px 20px rgba(0,0,0,0.2), inset 0 0 15px rgba(255,255,255,0.4);
    transform: translateY(-2px);
    transition:0.5s    }
    /* Slide animations */
/* Slide in from right or left on page load */
.slide-in-right { transform: translateX(100%); opacity: 0; }
.slide-in-left  { transform: translateX(-100%); opacity: 0; }

.slide-in-right.active,
.slide-in-left.active { transform: translateX(0); opacity: 1; transition: transform 0.6s ease, opacity 0.6s ease; }

.slide-out-left  { transform: translateX(-100%); opacity: 0; transition: transform 0.5s ease, opacity 0.5s ease; }
.slide-out-right { transform: translateX(100%); opacity: 0; transition: transform 0.5s ease, opacity 0.5s ease; }  </style>
</head>
<body>
    <nav>
    <a href="index.html" class="logo" id="logo">EarthMag</a>
    <ul>
      <li><a href="facts.html" class="activePage">Facts</a></li>
      <li><a href="data.html">Data</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="intern.html">Internships</a></li>
      <li><a href="mailto:inquire.earthmagazine@gmail.com?subject=Inquiry%20from%20EarthMag%20Website&body=Hello%20EarthMag%20Team%2C%0A%0AI%20would%20like%20to%20learn%20more%20about%20your%20initiatives.%0A%0AThank%20you%2C%0A[Your%20Name]">Contact</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="journal.html">Journal</a></li>
    </ul>
  </nav>

<div class="slide-in" id="pageWrapper">
<section id="earth-facts" style="padding: 100px 40px; background-color: #f9f9f9; text-align:center;">
  <h2 style="font-family:'Playfair Display',serif;font-size:48px;font-weight:700;margin-bottom:20px;color:#2E7D32;">
    Earth & Environmental Facts üåç
  </h2>
  <p style="max-width:700px;margin:0 auto 40px;font-size:18px;color:#444;line-height:1.6;">
    At EarthMag, we believe science can be serious <em>and</em> fun. Explore surprising facts about our planet, its energy, and the environment‚Äîone random fact at a time.
  </p>
  <div id="fact-box" style="background:#fff; border-radius:16px; padding:40px; max-width:800px; margin:0 auto; font-size:22px; line-height:1.6; box-shadow:0 6px 20px rgba(0,0,0,0.12); color:#333; text-align:center; min-height:120px; display:flex; align-items:center; justify-content:center; transition: opacity 0.4s ease, transform 0.4s ease;">
    Click the button below to reveal your first fact!
  </div>
  <button id="new-fact-btn" style="margin-top:25px; background:#2E7D32; color:#fff; border:none; padding:14px 34px; border-radius:30px; font-size:18px; cursor:pointer; transition: all 0.3s ease; font-weight:600; box-shadow:0 4px 14px rgba(0,0,0,0.15);">
    Show Me a Fact
  </button>
</section>

<!-- Quiz Section -->
<section id="quiz-section" style="padding: 60px 40px 100px 40px; background-color: #fff; text-align:center;">
  <h2 style="font-family:'Playfair Display',serif;font-size:40px;font-weight:700;margin-bottom:18px;color:#2E7D32;">
    Quick Quiz üß†
  </h2>
  <div id="quiz-box" style="background:#fff; border-radius:16px; padding:40px; max-width:800px; margin:0 auto 18px auto; font-size:20px; line-height:1.5; box-shadow:0 6px 20px rgba(0,0,0,0.10); color:#333; text-align:center; min-height:80px; display:flex; align-items:center; justify-content:center; transition: opacity 0.4s ease, transform 0.4s ease;">
    Click the button below to get your quiz!
  </div>
  <button id="new-quiz-btn" style="margin-top:12px; background:#009688; color:#fff; border:none; padding:12px 32px; border-radius:30px; font-size:17px; cursor:pointer; transition: all 0.3s ease; font-weight:600; box-shadow:0 3px 10px rgba(0,0,0,0.10);">
    Give Me a Quiz
  </button>
</section>

<!-- Modal for PDF preview -->
<div id="pdfModal" class="modal">
  <div class="modal-content" style="max-width: 820px; min-width:320px;">
    <span class="close" id="pdfModalClose" style="float:right;font-size:28px;cursor:pointer;">&times;</span>
    <div id="pdfModalTitle" style="font-family:'Playfair Display',serif;font-size:22px;margin-bottom:12px;"></div>
    <iframe id="pdfFrame" src="" width="100%" height="500px" style="border:none; border-radius:10px; box-shadow:0 2px 12px rgba(0,0,0,0.13);"></iframe>
  </div>
</div>


  <!-- Footer -->
<div id="contact" style="background-color: #f2f2f2; padding: 40px 20px; font-family: 'Arial', sans-serif; color: #333;">
  <div style="max-width: 1000px; margin: auto; display: flex; flex-wrap: wrap; justify-content: space-between; gap: 20px;">

    <!-- Contact Info -->
    <div style="flex: 1; min-width: 220px;">
      <h3 style="color: #2E7D32; font-family: 'Playfair Display', serif; font-size: 24px; margin-bottom: 15px;">Contact Us</h3>
      <p style="margin: 5px 0; font-size: 16px;">Email: <a href="mailto:inquire.earthmagazine@gmail.com" style="color: #2E7D32; text-decoration: none;">inquire.earthmagazine@gmail.com</a></p>
      <p style="margin: 5px 0; font-size: 16px;">Phone: <a href="tel:+911234567890" style="color: #2E7D32; text-decoration: none;">+91 123 456 7890</a></p>
      <p style="margin: 5px 0; font-size: 16px;">Address: 123 Sustainability Lane, Kolkata, India</p>
    </div>

    <!-- Stay Connected -->
    <div style="flex: 1; min-width: 220px;">
      <h3 style="color: #2E7D32; font-family: 'Playfair Display', serif; font-size: 24px; margin-bottom: 15px;">Stay Connected</h3>
      <p style="margin: 5px 0; font-size: 16px;">Follow us for updates on sustainability:</p>
      <div style="display: flex; gap: 15px; margin-top: 10px;">
        <a href="https://facebook.com/earthmag" target="_blank" style="font-size: 24px; color: #2E7D32; text-decoration: none;">
          <i class="fab fa-facebook footicon"></i>
        </a>
        <a href="https://twitter.com/earthmag" target="_blank" style="font-size: 24px; color: #2E7D32; text-decoration: none;">
          <i class="fab fa-twitter footicon"></i>
        </a>
        <a href="https://instagram.com/earthmagg" target="_blank" style="font-size: 24px; color: #2E7D32; text-decoration: none;">
          <i class="fab fa-instagram footicon"></i>
        </a>
        <a href="https://www.linkedin.com/company/earthmag" target="_blank" style="font-size: 24px; color: #2E7D32; text-decoration: none;">
          <i class="fab fa-linkedin footicon"></i>
        </a>      </div>
    </div>

  </div>

  <!-- Footer Bottom -->
  <div style="text-align: center; margin-top: 30px; font-size: 14px; color: #666;">
    <p>¬© 2025 EarthMag. All Rights Reserved.</p>
  </div>
</div>  <div id="applyModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Apply to Write</h2>
      <form>
        <input type="text" placeholder="Your Name" required />
        <input type="email" placeholder="Your Email" required />
        <textarea placeholder="Why do you want to write for us?" required></textarea>
        <button type="submit">Submit</button>
      </form>
    </div>
  </div>

</div>
  <div class="custom-cursor" id="customCursor"></div>

<script>
// --- Earth Facts & Quiz Loader (facts.json) ---
let factData = [];
let quizData = {};
let lastFactIndex = null;
let lastQuizIndex = null;

function setSectionBackground(category) {
  const section = document.getElementById('earth-facts');
  if (section) {
    section.className = '';
    section.id = 'earth-facts';
    if (category) section.classList.add(category.toLowerCase());
  }
}

function showRandomFact() {
  if (!factData.length) return;
  const factBox = document.getElementById('fact-box');
  if (!factBox) return;
  let idx;
  do {
    idx = Math.floor(Math.random() * factData.length);
  } while (factData.length > 1 && idx === lastFactIndex);
  lastFactIndex = idx;
  const fact = factData[idx];
  factBox.style.opacity = 0;
  factBox.style.transform = "scale(0.95)";
  setTimeout(() => {
    factBox.innerHTML = fact.text + `<div style="margin-top:10px;font-size:14px;color:#777;">Category: ${fact.category}</div>`;
    factBox.style.opacity = 1;
    factBox.style.transform = "scale(1)";
    setSectionBackground(fact.category);
  }, 300);
}

function showRandomQuiz() {
  if (!quizData || Object.keys(quizData).length === 0) return;
  const quizBox = document.getElementById('quiz-box');
  if (!quizBox) return;
  // pick a random category
  const categories = Object.keys(quizData);
  let catIdx, qIdx;
  do {
    catIdx = Math.floor(Math.random() * categories.length);
  } while (categories.length > 1 && catIdx === lastQuizIndex);
  lastQuizIndex = catIdx;
  const category = categories[catIdx];
  const questions = quizData[category];
  if (!questions || !questions.length) {
    quizBox.innerHTML = "No quiz questions available.";
    return;
  }
  qIdx = Math.floor(Math.random() * questions.length);
  const q = questions[qIdx];
  quizBox.style.opacity = 0;
  quizBox.style.transform = "scale(0.95)";
  setTimeout(() => {
    quizBox.innerHTML = `
      <div style="text-align:left;font-size:18px;">
        <strong>Category: ${category.charAt(0).toUpperCase() + category.slice(1)}</strong><br>
        <span style="font-size:19px;font-weight:600;">Quiz:</span> ${q.question}
        <div style="margin-top:12px;">
          ${q.options.map(opt => `<button class="quiz-option" style="margin:6px 8px 0 0; padding:7px 18px; border-radius:18px; border:none; background:#f1f1f1; color:#222; font-size:16px; cursor:pointer; transition:background 0.2s;">${opt}</button>`).join('')}
        </div>
      </div>
    `;
    quizBox.style.opacity = 1;
    quizBox.style.transform = "scale(1)";
    // Add event listeners
    const btns = quizBox.querySelectorAll('.quiz-option');
    btns.forEach(btn => {
      btn.addEventListener('click', function handler() {
        btns.forEach(b => b.disabled = true);
        if (btn.textContent === q.answer) {
          btn.style.background = "#C8E6C9";
          btn.textContent += " ‚úÖ";
          launchConfetti();
        } else {
          btn.style.background = "#FFCDD2";
          btn.textContent += " ‚ùå";
        }
      }, { once: true });
    });
  }, 300);
}

function showFactOfTheDay() {
  if (!factData.length) return;
  // Use the day of year as index for "fact of the day"
  const now = new Date();
  const start = new Date(now.getFullYear(), 0, 0);
  const diff = now - start;
  const oneDay = 1000 * 60 * 60 * 24;
  const day = Math.floor(diff / oneDay);
  const idx = day % factData.length;
  const fact = factData[idx];
  // Only show once per day (per sessionStorage)
  const key = "earthmag_factofday_" + now.getFullYear() + "_" + day;
  if (!sessionStorage.getItem(key)) {
    alert("üåé Fact of the Day:\n\n" + fact.text);
    sessionStorage.setItem(key, "shown");
  }
}

function launchConfetti() {
  const duration = 1000;
  const end = Date.now() + duration;
  (function frame() {
    confetti({
      particleCount: 5,
      angle: 60,
      spread: 55,
      origin: { x: 0 }
    });
    confetti({
      particleCount: 5,
      angle: 120,
      spread: 55,
      origin: { x: 1 }
    });
    if (Date.now() < end) {
      requestAnimationFrame(frame);
    }
  }());
}

// Fetch facts and quiz data from facts.json
document.addEventListener('DOMContentLoaded', () => {
  // Button effects
  const factBtn = document.getElementById('new-fact-btn');
  if (factBtn) {
    factBtn.addEventListener('mouseenter', () => factBtn.style.transform = 'scale(1.08)');
    factBtn.addEventListener('mouseleave', () => factBtn.style.transform = 'scale(1)');
    factBtn.addEventListener('click', showRandomFact);
    document.addEventListener('keydown', (e) => {
      if (e.code === "Space" && document.activeElement === document.body) {
        e.preventDefault();
        showRandomFact();
      }
    });
  }
  const quizBtn = document.getElementById('new-quiz-btn');
  if (quizBtn) {
    quizBtn.addEventListener('mouseenter', () => quizBtn.style.transform = 'scale(1.08)');
    quizBtn.addEventListener('mouseleave', () => quizBtn.style.transform = 'scale(1)');
    quizBtn.addEventListener('click', showRandomQuiz);
  }
  // Fetch facts.json
  fetch('facts.json')
    .then(resp => resp.json())
    .then(data => {
      factData = data.facts || [];
      quizData = data.quizQuestions || {};
      showFactOfTheDay();
    })
    .catch(e => {
      // fallback: show error
      const factBox = document.getElementById('fact-box');
      if (factBox) factBox.innerHTML = "Could not load facts. Please try again later.";
      const quizBox = document.getElementById('quiz-box');
      if (quizBox) quizBox.innerHTML = "Could not load quizzes. Please try again later.";
    });
});
</script>
<script>
// --- Repository Script ---
let currentSearch = "";
let currentSort = "newest";

// Event listeners
document.addEventListener('DOMContentLoaded', () => {
  // Modal for Apply to Write
  const modal = document.getElementById('applyModal');
  const btn = document.getElementById('openFormBtn');
  const span = document.querySelector('.close');
  if (btn && modal && span) {
    btn.onclick = () => modal.style.display = 'block';
    span.onclick = () => modal.style.display = 'none';
    window.onclick = (event) => { if(event.target == modal) modal.style.display = 'none'; }
  }
  // Navbar scroll effect
// Define a numeric order for pages
// Define page order for directional transitions
const pageOrder = {
  "index.html": 1,
  "":1,
  "facts.html": 2,
  "data.html": 3,
  "about.html": 4,
  "intern.html": 5,
  "blog.html": 6,
  "journal.html": 7
};

// Determine current and previous page index
const currentPage = window.location.pathname.split("/").pop();
const prevIndex = sessionStorage.getItem('prevPageIndex') || 0;
const currentIndex = pageOrder[currentPage] || 0;

// Apply slide-in direction
if (currentIndex >= prevIndex) pageWrapper.classList.add('slide-in-right');
else pageWrapper.classList.add('slide-in-left');

setTimeout(() => pageWrapper.classList.add('active'), 50);
sessionStorage.setItem('prevPageIndex', currentIndex);

// Animate link clicks
document.querySelectorAll('nav ul li a').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const targetPage = link.getAttribute('href');
    const targetIndex = pageOrder[targetPage] || 0;

    if (targetIndex > currentIndex) pageWrapper.classList.add('slide-out-left');
    else pageWrapper.classList.add('slide-out-right');

    setTimeout(() => { window.location.href = targetPage; }, 500);
  });
});  
// Custom cursor
  const customCursor = document.getElementById('customCursor');
  if (customCursor) {
    document.addEventListener('mousemove', e => {
      customCursor.style.left = e.clientX + 'px';
      customCursor.style.top = e.clientY + 'px';
    });
    document.addEventListener('mousedown', () => {
      customCursor.classList.add('click');
    });
    document.addEventListener('mouseup', () => {
      customCursor.classList.remove('click');
    });
    const interactiveElements = document.querySelectorAll('a, button, nav ul li a');
    interactiveElements.forEach(el => {
      el.addEventListener('mouseenter', () => {
        if (el.closest('nav')) {
          customCursor.classList.add('nav-hover');
        }
      });
      el.addEventListener('mouseleave', () => {
        customCursor.classList.remove('nav-hover');
      });
    });
  }
  // Repository search/sort
  const searchInput = document.getElementById('repo-search');
  const sortSelect = document.getElementById('repo-sort');
  if (searchInput) {
    searchInput.addEventListener('input', e => {
      currentSearch = searchInput.value;
      renderPapers();
    });
  }
  if (sortSelect) {
    sortSelect.addEventListener('change', e => {
      currentSort = sortSelect.value;
      renderPapers();
    });
  }
  renderPapers();
  // PDF Modal
  const pdfModal = document.getElementById('pdfModal');
  const pdfModalClose = document.getElementById('pdfModalClose');
  const pdfFrame = document.getElementById('pdfFrame');
  const pdfModalTitle = document.getElementById('pdfModalTitle');
  document.addEventListener('click', function(e) {
    if (e.target && e.target.classList.contains('preview-pdf-btn')) {
      const pdfUrl = e.target.getAttribute('data-pdf');
      const title = e.target.getAttribute('data-title');
      if (pdfFrame && pdfModal && pdfModalTitle) {
        pdfFrame.src = pdfUrl;
        pdfModalTitle.textContent = title;
        pdfModal.style.display = 'block';
      }
    }
    if (e.target === pdfModalClose) {
      pdfModal.style.display = 'none';
      if (pdfFrame) pdfFrame.src = "";
    }
    if (e.target === pdfModal) {
      pdfModal.style.display = 'none';
      if (pdfFrame) pdfFrame.src = "";
    }
  });
});
</script>
<script>
// --- Google Sheets Repository Loader ---
document.addEventListener('DOMContentLoaded', () => {
  const page = document.getElementById('pageWrapper');
  
  // Slide in on load
  setTimeout(() => {
    page.classList.add('active');
  }, 50);

  // Animate navigation to journal page (index.html)
  const journalLink = document.querySelector('a[href="journal.html"]');
  if(journalLink) {
    journalLink.addEventListener('click', (e) => {
      e.preventDefault();
      page.classList.add('slide-out');
      setTimeout(() => {
        window.location.href = journalLink.href;
      }, 500); // matches CSS transition
    });
  }

  // Optional: animate back to index from journal page
  const indexLink = document.querySelector('a[href="index.html"]');
  if(indexLink) {
    indexLink.addEventListener('click', (e) => {
      e.preventDefault();
      page.classList.add('slide-out');
      setTimeout(() => {
        window.location.href = indexLink.href;
      }, 500);
    });
  }
});
const hideCursorElements = document.querySelectorAll('input, textarea, button, a, iframe');

hideCursorElements.forEach(el => {
  el.addEventListener('mouseenter', () => {
    cursor.classList.add('hidden');
  });
  el.addEventListener('mouseleave', () => {
    cursor.classList.remove('hidden');
  });
});

</script>
</body>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</html>